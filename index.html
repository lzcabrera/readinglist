<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Laura Reading List</title>
  <link rel="stylesheet" href="css/bootstrap.css">
  <link rel="stylesheet" href="css/style.css">
</head>
<body>
  <script type="text/x-handlebars" data-template-name="application">
    <div class="container">
      <h1>Reading List</h1>
      {{outlet}}
    </div>
  </script>

  <script type="text/x-handlebars" data-template-name="index">
    <ol class="breadcrumb">
      <li>{{#link-to 'index'}}Books{{/link-to}}</li>
    </ol>

    <div class='row'>
      <div class='col-sm-8'>
        <h2>Books</h2>
        {{render 'books' books}}
      </div>
      <div class='col-sm-4'>
        <h2>Genres</h2>
        {{render 'genres' genres}}
      </div>
    </div>

  </script>

  <!-- book -->
  <script type="text/x-handlebars" data-template-name="books">

    <ul class="list-unstyled">
      {{#each}}
        {{book-details book=this tag='li' class='row'}}
      {{else}}
        <li>There are no books</li>
      {{/each}}
    </ul>
  </script>

  <script type="text/x-handlebars" data-template-name="book">
    <ol class="breadcrumb">
      <li>{{#link-to 'index'}}Books{{/link-to}}</li>
      <li class="active">{{title}}</li>
    </ol>
    {{book-details book=this tag='div' class='row' rating="4"}}
  </script>

  <!-- genre -->
  <script type="text/x-handlebars" data-template-name="genres">
    <ul class="list-unstyled">
      {{#each}}
        <li>{{#link-to 'genre' this class='label label-primary'}}{{name}}{{/link-to}}</li>
      {{/each}}
    </ul>
  </script>

  <script type="text/x-handlebars" data-template-name="genre">
    <ol class="breadcrumb">
      <li>{{#link-to 'index'}}Books{{/link-to}}</li>
      <li class="active">{{name}}</li>
    </ol>
    {{render 'books' books}}
  </script>

  <!-- components -->
  <script type="text/x-handlebars" data-template-name="components/book-details">
      <div class="col-sm-3">
        <a {{bind-attr href='book.url'}}>
          <img {{bind-attr src='book.image'}}/>
        </a>
        <p class="text-center rating"><strong>{{book.rating}}</strong>/5</p>
      </div>
      <div class="col-sm-9">
        <h3>{{#link-to 'book' book}}{{book.title}}{{/link-to}}</h3>
        <p class='text-muted'><em>Written by {{book.author}}</em></p>
        <div>
          <p>{{book.review}}</p>
        </div>
        <span>{{#link-to 'genre' book.genre class='label label-primary'}}{{book.genre.name}}{{/link-to}}</span>
      </div>

  </script>





  <script src="js/libs/jquery-1.10.2.js"></script>
  <script src="js/libs/handlebars-1.1.2.js"></script>
  <script src="js/libs/ember-1.5.1.js"></script>
  <script src="js/libs/ember-data.js"></script>
  <script src="js/app.js"></script>
</body>
</html>
